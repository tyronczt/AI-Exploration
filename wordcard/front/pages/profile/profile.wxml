<!--profile.wxml-->
<view class="container">
  <view class="user-section">
    <view class="user-info" wx:if="{{userInfo}}">
      <view class="avatar">ğŸ‘¤</view>
      <view class="user-details">
        <view class="nickname">{{userInfo.nickname || userInfo.wechatNickname || 'æœªè®¾ç½®æ˜µç§°'}}</view>
        <view class="username">{{userInfo.username}}</view>
      </view>
    </view>
    <view class="user-info" wx:else>
      <view class="avatar">ğŸ‘¤</view>
      <view class="user-details">
        <view class="nickname">æœªç™»å½•</view>
        <button class="login-btn" bindtap="login">ç‚¹å‡»ç™»å½•</button>
      </view>
    </view>
  </view>

  <view class="stats-section">
    <view class="stat-item">
      <view class="stat-value">{{learnedWords}}</view>
      <view class="stat-label">å·²å­¦å•è¯</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{currentStreak}}</view>
      <view class="stat-label">è¿ç»­å­¦ä¹ </view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{totalPoints}}</view>
      <view class="stat-label">æ€»ç§¯åˆ†</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{studyDays}}</view>
      <view class="stat-label">å­¦ä¹ å¤©æ•°</view>
    </view>
  </view>

  <view class="menu-section">
    <!-- è¯åº“é€‰æ‹© -->
    <view class="menu-group">
      <view class="menu-item" bindtap="navigateToWordbook">
        <view class="menu-icon">ğŸ“š</view>
        <view class="menu-text">é€‰æ‹©è¯åº“</view>
        <view class="menu-arrow">â†’</view>
      </view>
    </view>

    <!-- å­¦ä¹ ç®¡ç† -->
    <view class="menu-group">
      <view class="menu-item" bindtap="navigateToFavorites">
        <view class="menu-icon">â­</view>
        <view class="menu-text">æˆ‘çš„æ”¶è—</view>
        <view class="menu-arrow">â†’</view>
      </view>
      <view class="menu-item" bindtap="navigateToStudyRecord">
        <view class="menu-icon">ğŸ“Š</view>
        <view class="menu-text">å­¦ä¹ è®°å½•</view>
        <view class="menu-arrow">â†’</view>
      </view>
      <view class="menu-item" bindtap="navigateToWordList">
        <view class="menu-icon">ğŸ“–</view>
        <view class="menu-text">ç”Ÿè¯æœ¬</view>
        <view class="menu-arrow">â†’</view>
      </view>
    </view>

    <!-- ç³»ç»Ÿè®¾ç½® -->
    <view class="menu-group">
      <view class="menu-item" bindtap="navigateToSettings">
        <view class="menu-icon">âš™ï¸</view>
        <view class="menu-text">è®¾ç½®</view>
        <view class="menu-arrow">â†’</view>
      </view>
      <view class="menu-item" bindtap="navigateToAbout">
        <view class="menu-icon">â„¹ï¸</view>
        <view class="menu-text">å…³äºæˆ‘ä»¬</view>
        <view class="menu-arrow">â†’</view>
      </view>
    </view>

    <view class="menu-group" wx:if="{{userInfo}}">
      <view class="menu-item logout-item" bindtap="logout">
        <view class="menu-icon">ğŸšª</view>
        <view class="menu-text">é€€å‡ºç™»å½•</view>
      </view>
    </view>
  </view>
</view>